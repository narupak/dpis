<? 
	include("../php_scripts/connect_database.php");
	include("php_scripts/command_extra_retirepos_desc.php");
?>
<html>
<head>
<title><?=$webpage_title?> - <?=$MENU_TITLE_LV0?><?if($MENU_ID_LV1){?> - <?=$MENU_TITLE_LV1?><?}?></title>
<meta http-equiv="Content-Type" content="text/html; charset=windows-874">
<link rel="stylesheet" href="<?=$cssfileselected?>" type="text/css">
<link rel="alternate stylesheet" type="text/css" media="all" href="stylesheets/calendar-blue.css" title="winter"/>
</head>
<script type="text/javascript" src="java_scripts/chk_date.js"></script>
<script type="text/javascript" src="java_scripts/calendar.js"></script>
<script type="text/javascript" src="java_scripts/calendar-th.js"></script> 
<script language="JavaScript" src="java_scripts/function_utility.js"></script>
<script language="JavaScript">
	function change_current_page( page ){
		form1.current_page.value = page;
		form1.submit();
	}
	
	function changedateformat(name,str) {
		var arr = str.split('/');
		if((str) && (str != arr[0]+'/'+arr[1]+'/'+arr[2])){
			name.value = str.substr(0,2) + "/" + str.substr(2,2) + "/"  + str.substr(4,4) ;
		}
		chk_date(name, "BDH");
	}

	function confirm_delete(data_id , data_label){
		if(confirm("ต้องการลบข้อมูลนี้ใช่หรือไม่ [ " + data_label + " ]?")){
			form1.command.value = "DELETE";
			form1.REQ_SEQ.value = data_id;
			form1.submit();
		} // end if
	}
	
	function call_search_retire_position () {	
		parameter = "";
		if(form1.DROP_POS_NO.value.trim() != "") 
			parameter += "&isLock=1&LOCK_MINISTRY_ID=" + form1.DROP_MINISTRY_ID.value + "&LOCK_DEPARTMENT_ID=" + form1.DROP_DEPARTMENT_ID.value+"&send_by=call_search_retire_position";
		else
		    parameter += "&isLock=1&LOCK_MINISTRY_ID=" + form1.MINISTRY_ID.value + "&LOCK_DEPARTMENT_ID=" + form1.DEPARTMENT_ID.value+"&send_by=call_search_retire_position";
		call_openDialog("search_position.html?MENU_ID_LV0=<?=$MENU_ID_LV0?>&MENU_ID_LV1=<?=$MENU_ID_LV1?>&MENU_ID_LV2=<?=$MENU_ID_LV2?>&MENU_ID_LV3=<?=$MENU_ID_LV3?>" + parameter,800,600,"<?=$POSITION_TITLE?>");
	}
	
	function call_search_drop_position () {	
		parameter = "";
		if(form1.RETIRE_POS_NO.value.trim() != "") 
			parameter += "&isLock=1&LOCK_MINISTRY_ID=" + form1.RETIRE_MINISTRY_ID.value + "&LOCK_DEPARTMENT_ID=" + form1.RETIRE_DEPARTMENT_ID.value+"&send_by=call_search_drop_position";
		else
			parameter += "&isLock=1&LOCK_MINISTRY_ID=" + form1.MINISTRY_ID.value + "&LOCK_DEPARTMENT_ID=" + form1.DEPARTMENT_ID.value+"&send_by=call_search_drop_position";
		call_openDialog("search_position.html?MENU_ID_LV0=<?=$MENU_ID_LV0?>&MENU_ID_LV1=<?=$MENU_ID_LV1?>&MENU_ID_LV2=<?=$MENU_ID_LV2?>&MENU_ID_LV3=<?=$MENU_ID_LV3?>" + parameter,800,600,"<?=$POSITION_TITLE?>");
	}

	function clear_drop_position () {
		form1.POS_ID_DROP.value = "";
		form1.DROP_POS_NO.value = "";
		form1.DROP_OT_CODE.value = "";
		form1.DROP_OT_NAME.value = "";
		form1.DROP_PL_CODE.value = "";
		form1.DROP_PL_NAME.value = "";
		form1.DROP_PM_CODE.value = "";
		form1.DROP_PM_NAME.value = "";
		form1.DROP_CL_CODE.value = "";
		form1.DROP_CL_NAME.value = "";
		form1.DROP_LEVEL_NO.value = "";
		form1.DROP_LEVEL_NAME.value = "";
		form1.DROP_PT_CODE.value = "";
		form1.DROP_PT_NAME.value = "";
		form1.DROP_SG_CODE.value = "";
		form1.DROP_SG_NAME.value = "";
		form1.DROP_SKILL_CODE.value = "";
		form1.DROP_SKILL_NAME.value = "";
		form1.DROP_PC_CODE.value = "";
		form1.DROP_PC_NAME.value = "";
		form1.DROP_POS_CONDITION.value = "";
		form1.DROP_POS_SALARY.value = "";
		form1.DROP_POS_MGTSALARY.value = "";
		form1.DROP_MINISTRY_ID.value = "";
		form1.DROP_MINISTRY_NAME.value = "";
		form1.DROP_DEPARTMENT_ID.value = "";
		form1.DROP_DEPARTMENT_NAME.value = "";
		form1.DROP_ORG_ID.value = "";
		form1.DROP_ORG_NAME.value = "";
		form1.DROP_ORG_ID_1.value = "";
		form1.DROP_ORG_NAME_1.value = "";
		form1.DROP_ORG_ID_2.value = "";
		form1.DROP_ORG_NAME_2.value = "";
<? if($SESS_ORG_SETLEVEL==5) { ?>
		form1.DROP_ORG_ID_3.value = "";
		form1.DROP_ORG_NAME_3.value = "";
		form1.DROP_ORG_ID_4.value = "";
		form1.DROP_ORG_NAME_4.value = "";
		form1.DROP_ORG_ID_5.value = "";
		form1.DROP_ORG_NAME_5.value = "";
<? } ?>
		form1.DROP_CT_CODE.value = "";
		form1.DROP_CT_NAME.value = "";
		form1.DROP_PV_CODE.value = "";
		form1.DROP_PV_NAME.value = "";
		form1.DROP_AP_CODE.value = "";
		form1.DROP_AP_NAME.value = "";
		form1.DROP_ORG_OT_CODE.value = "";
		form1.DROP_ORG_OT_NAME.value = "";
		document.all.btn_clear_drop.disabled = true;

		if(form1.POS_ID_RETIRE.value.trim() == ""){
			<? if($CTRL_TYPE==1 || $CTRL_TYPE==2){ ?>document.all.btn_ministry.disabled = false;<? } // end if ?>
			<? if($CTRL_TYPE != 4){ ?>document.all.btn_department.disabled = false;<? } // end if ?>

			form1.REQ_MINISTRY_ID.value = "";
			form1.REQ_MINISTRY_NAME.value = "";
			form1.REQ_DEPARTMENT_ID.value = "";
			form1.REQ_DEPARTMENT_NAME.value = "";
		} // end if
	} 

	function call_search_off_type () {	
		parameter = "";
		call_openDialog("search_offtype.html?MENU_ID_LV0=<?=$MENU_ID_LV0?>&MENU_ID_LV1=<?=$MENU_ID_LV1?>&MENU_ID_LV2=<?=$MENU_ID_LV2?>&MENU_ID_LV3=<?=$MENU_ID_LV3?>" + parameter,800,600,"<?=$OFF_TYPE_TITLE?>");
	}

	function call_search_perline () {	
		parameter = "";
		call_openDialog("search_perline.html?MENU_ID_LV0=<?=$MENU_ID_LV0?>&MENU_ID_LV1=<?=$MENU_ID_LV1?>&MENU_ID_LV2=<?=$MENU_ID_LV2?>&MENU_ID_LV3=<?=$MENU_ID_LV3?>" + parameter,800,600,"<?=$PL_TITLE?>");
	}

	function call_search_mgt () {	
		parameter = "";
		call_openDialog("search_mgt.html?MENU_ID_LV0=<?=$MENU_ID_LV0?>&MENU_ID_LV1=<?=$MENU_ID_LV1?>&MENU_ID_LV2=<?=$MENU_ID_LV2?>&MENU_ID_LV3=<?=$MENU_ID_LV3?>" + parameter,800,600,"<?=$PM_TITLE?>");
	}

	function call_search_co_level () {	
		parameter = "";
		call_openDialog("search_co_level.html?MENU_ID_LV0=<?=$MENU_ID_LV0?>&MENU_ID_LV1=<?=$MENU_ID_LV1?>&MENU_ID_LV2=<?=$MENU_ID_LV2?>&MENU_ID_LV3=<?=$MENU_ID_LV3?>" + parameter,800,600,"<?=$CL_TITLE?>");
	}

	function call_search_skill_group () {	
		parameter = "";
//		if(form1.REQ_PL_CODE.value != "") parameter = "&PL_CODE=" + form1.REQ_PL_CODE.value;
		call_openDialog("search_skill_group.html?MENU_ID_LV0=<?=$MENU_ID_LV0?>&MENU_ID_LV1=<?=$MENU_ID_LV1?>&MENU_ID_LV2=<?=$MENU_ID_LV2?>&MENU_ID_LV3=<?=$MENU_ID_LV3?>" + parameter,800,600,"<?=$SG_TITLE?>");
	}

	function call_search_skill () {	
		parameter = "";
		if(form1.REQ_SG_CODE.value != "") parameter = "&SG_CODE=" + form1.REQ_SG_CODE.value;
		call_openDialog("search_skill.html?MENU_ID_LV0=<?=$MENU_ID_LV0?>&MENU_ID_LV1=<?=$MENU_ID_LV1?>&MENU_ID_LV2=<?=$MENU_ID_LV2?>&MENU_ID_LV3=<?=$MENU_ID_LV3?>" + parameter,800,600,"<?=$SKILL_TITLE?>");
	}

	function call_search_ministry () {	
		var PROVINCE_CODE = "<?=($CTRL_TYPE==2 || $SESS_USERGROUP_LEVEL==2)?"$PROVINCE_CODE":""?>";
		parameter = "&OL_CODE=01&PV_CODE=" + PROVINCE_CODE+"&send_by=call_search_ministry";
		call_openDialog("search_org.html?MENU_ID_LV0=<?=$MENU_ID_LV0?>&MENU_ID_LV1=<?=$MENU_ID_LV1?>&MENU_ID_LV2=<?=$MENU_ID_LV2?>&MENU_ID_LV3=<?=$MENU_ID_LV3?>" + parameter,800,600,"<?=$MINISTRY_TITLE?>");
	}

	function call_search_department () {	
		var MINISTRY_ID = <?=(($CTRL_TYPE==3 || $SESS_USERGROUP_LEVEL==3)?"$MINISTRY_ID":"form1.REQ_MINISTRY_ID.value")?>;
		var PROVINCE_CODE = "<?=($CTRL_TYPE==2 || $SESS_USERGROUP_LEVEL==2)?"$PROVINCE_CODE":""?>";
		if(MINISTRY_ID != ""){
			parameter = "&OL_CODE=02&ORG_ID_REF=" + MINISTRY_ID + "&PV_CODE=" + PROVINCE_CODE+"&send_by=call_search_department";
			call_openDialog("search_org.html?MENU_ID_LV0=<?=$MENU_ID_LV0?>&MENU_ID_LV1=<?=$MENU_ID_LV1?>&MENU_ID_LV2=<?=$MENU_ID_LV2?>&MENU_ID_LV3=<?=$MENU_ID_LV3?>" + parameter,800,600,"<?=$DEPARTMENT_TITLE?>");
		}else{
			<? if($CTRL_TYPE==3 || $SESS_USERGROUP_LEVEL==3){ ?>
			alert("กรุณาเลือกกระทรวง (กำหนดค่าเริ่มต้นหน่วยงาน)");
			<? }else{ ?>
			alert("กรุณาเลือกกระทรวง");
			form1.btn_ministry.focus();
			<? } ?>
		} // end if
	}

	function call_search_org () {	
		var DEPARTMENT_ID = <?=(($CTRL_TYPE==4 || $SESS_USERGROUP_LEVEL==4)?"$DEPARTMENT_ID":"form1.REQ_DEPARTMENT_ID.value")?>;
		var PROVINCE_CODE = "<?=($CTRL_TYPE==2 || $SESS_USERGROUP_LEVEL==2)?"$PROVINCE_CODE":""?>";
		if(DEPARTMENT_ID != ""){
			parameter = "&OL_CODE=03&ORG_ID_REF=" + DEPARTMENT_ID + "&PV_CODE=" + PROVINCE_CODE+"&send_by=call_search_org";
			call_openDialog("search_org.html?MENU_ID_LV0=<?=$MENU_ID_LV0?>&MENU_ID_LV1=<?=$MENU_ID_LV1?>&MENU_ID_LV2=<?=$MENU_ID_LV2?>&MENU_ID_LV3=<?=$MENU_ID_LV3?>" + parameter,800,600,"<?=$ORG_TITLE?>");
		}else{
			<? if($CTRL_TYPE==4 || $SESS_USERGROUP_LEVEL==4){ ?>
			alert("กรุณาเลือกกรม (กำหนดค่าเริ่มต้นหน่วยงาน)");
			<? }else{ ?>
			alert("กรุณาเลือกกรม");
			form1.btn_department.focus();
			<? } ?>
		} // end if
	}

	function call_search_org_1 () {	
		if(form1.REQ_ORG_ID.value != ""){
			parameter = "&OL_CODE=04&ORG_ID_REF=" + form1.REQ_ORG_ID.value+"&send_by=call_search_org_1";
			call_openDialog("search_org.html?MENU_ID_LV0=<?=$MENU_ID_LV0?>&MENU_ID_LV1=<?=$MENU_ID_LV1?>&MENU_ID_LV2=<?=$MENU_ID_LV2?>&MENU_ID_LV3=<?=$MENU_ID_LV3?>" + parameter,800,600,"<?=$ORG_TITLE1?>");
		}else{
			alert("กรุณาเลือกสำนัก/กอง");
			form1.btn_org.focus();
		} // end if
	}

	function call_search_org_2 () {	
		if(form1.REQ_ORG_ID_1.value != ""){
			parameter = "&OL_CODE=05&ORG_ID_REF=" + form1.REQ_ORG_ID_1.value+"&send_by=call_search_org_2";
			call_openDialog("search_org.html?MENU_ID_LV0=<?=$MENU_ID_LV0?>&MENU_ID_LV1=<?=$MENU_ID_LV1?>&MENU_ID_LV2=<?=$MENU_ID_LV2?>&MENU_ID_LV3=<?=$MENU_ID_LV3?>" + parameter,800,600,"<?=$ORG_TITLE2?>");
		}else{
			alert("กรุณาเลือก ต่ำกว่าสำนัก/กอง 1 ระดับ");
			form1.btn_org_1.focus();
		} // end if
	}

	function call_search_org_3 () {	
		if(form1.REQ_ORG_ID_2.value != ""){
			parameter = "&OL_CODE=06&ORG_ID_REF=" + form1.REQ_ORG_ID_2.value+"&send_by=call_search_org_3";
			call_openDialog("search_org.html?MENU_ID_LV0=<?=$MENU_ID_LV0?>&MENU_ID_LV1=<?=$MENU_ID_LV1?>&MENU_ID_LV2=<?=$MENU_ID_LV2?>&MENU_ID_LV3=<?=$MENU_ID_LV3?>" + parameter,800,600,"<?=$ORG_TITLE3?>");
		}else{
			alert("กรุณาเลือก ต่ำกว่าสำนัก/กอง 2 ระดับ");
			form1.btn_org_2.focus();
		} // end if
	}

	function call_search_org_4 () {	
		if(form1.REQ_ORG_ID_3.value != ""){
			parameter = "&OL_CODE=07&ORG_ID_REF=" + form1.REQ_ORG_ID_3.value+"&send_by=call_search_org_4";
			call_openDialog("search_org.html?MENU_ID_LV0=<?=$MENU_ID_LV0?>&MENU_ID_LV1=<?=$MENU_ID_LV1?>&MENU_ID_LV2=<?=$MENU_ID_LV2?>&MENU_ID_LV3=<?=$MENU_ID_LV3?>" + parameter,800,600,"<?=$ORG_TITLE4?>");
		}else{
			alert("กรุณาเลือก ต่ำกว่าสำนัก/กอง 3 ระดับ");
			form1.btn_org_3.focus();
		} // end if
	}

	function call_search_org_5 () {	
		if(form1.REQ_ORG_ID_4.value != ""){
			parameter = "&OL_CODE=08&ORG_ID_REF=" + form1.REQ_ORG_ID_4.value+"&send_by=call_search_org_5";
			call_openDialog("search_org.html?MENU_ID_LV0=<?=$MENU_ID_LV0?>&MENU_ID_LV1=<?=$MENU_ID_LV1?>&MENU_ID_LV2=<?=$MENU_ID_LV2?>&MENU_ID_LV3=<?=$MENU_ID_LV3?>" + parameter,800,600,"<?=$ORG_TITLE5?>");
		}else{
			alert("กรุณาเลือก ต่ำกว่าสำนัก/กอง 4 ระดับ");
			form1.btn_org_4.focus();
		} // end if
	}

	function call_search_type () {	
		parameter = "";
		call_openDialog("search_type.html?MENU_ID_LV0=<?=$MENU_ID_LV0?>&MENU_ID_LV1=<?=$MENU_ID_LV1?>&MENU_ID_LV2=<?=$MENU_ID_LV2?>&MENU_ID_LV3=<?=$MENU_ID_LV3?>" + parameter,800,600,"<?=$PT_TITLE?>");
	}

	function call_search_condition () {	
		var parameter = "";
		call_openDialog("search_condition.html?MENU_ID_LV0=<?=$MENU_ID_LV0?>&MENU_ID_LV1=<?=$MENU_ID_LV1?>&MENU_ID_LV2=<?=$MENU_ID_LV2?>&MENU_ID_LV3=<?=$MENU_ID_LV3?>" + parameter,800,600,"<?=$PC_TITLE?>");
	}
	
	function disable_req_form(value){
		form1.REQ_POS_NO.disabled = value;
		form1.REQ_OT_NAME.disabled = value;
		form1.REQ_PL_NAME.disabled = value;
		form1.REQ_PM_NAME.disabled = value;
		form1.REQ_CL_NAME.disabled = value;
		form1.REQ_LEVEL_NAME.disabled = value;
		form1.REQ_PT_NAME.disabled = value;
		form1.REQ_SG_NAME.disabled = value;
		form1.REQ_SKILL_NAME.disabled = value;
		form1.REQ_PC_NAME.disabled = value;
		form1.REQ_CONDITION.disabled = value;
		form1.REQ_SALARY.disabled = value;
		form1.REQ_MGTSALARY.disabled = value;
		form1.REQ_CT_NAME.disabled = value;
		form1.REQ_PV_NAME.disabled = value;
		form1.REQ_AP_NAME.disabled = value;
		form1.REQ_ORG_OT_NAME.disabled = value;

		form1.btn_off_type.disabled = value;
		form1.btn_perline.disabled = value;
		form1.btn_mgt.disabled = value;
		form1.btn_co_level.disabled = value;
		form1.btn_type.disabled = value;
		form1.btn_skill_group.disabled = value;
		form1.btn_skill.disabled = value;
		form1.btn_condition.disabled = value;
		if(form1.POS_ID_RETIRE.value.trim()=="" && form1.POS_ID_DROP.value.trim()==""){
			<? if($CTRL_TYPE < 3 && $SESS_USERGROUP_LEVEL < 3){ ?>form1.btn_ministry.disabled = value;<? } ?>
			<? if($CTRL_TYPE < 4 && $SESS_USERGROUP_LEVEL < 4){ ?>form1.btn_department.disabled = value;<? } ?>
		} // end if
		form1.btn_org.disabled = value;
		form1.btn_org_1.disabled = value;
		form1.btn_org_2.disabled = value;
<? if($SESS_ORG_SETLEVEL==5) { ?>
		form1.btn_org_3.disabled = value;
		form1.btn_org_4.disabled = value;
		form1.btn_org_5.disabled = value;
<? } ?>
	}

	function clear_req_form(){
		form1.POS_ID_REQ.value = "";
		form1.REQ_POS_NO.value = "";
		form1.REQ_OT_NAME.value = "";
		form1.REQ_OT_CODE.value = "";
		form1.REQ_PL_NAME.value = "";
		form1.REQ_PL_CODE.value = "";
		form1.REQ_PM_NAME.value = "";
		form1.REQ_PM_CODE.value = "";
		form1.REQ_CL_NAME.value = "";
		form1.REQ_CL_CODE.value = "";
		form1.REQ_LEVEL_NAME.value = "";
		form1.REQ_LEVEL_NO.value = "";
		form1.REQ_PT_NAME.value = "";
		form1.REQ_PT_CODE.value = "";
		form1.REQ_SG_NAME.value = "";
		form1.REQ_SG_CODE.value = "";
		form1.REQ_SKILL_NAME.value = "";
		form1.REQ_SKILL_CODE.value = "";
		form1.REQ_PC_NAME.value = "";
		form1.REQ_PC_CODE.value = "";
		form1.REQ_CONDITION.value = "";
		form1.REQ_SALARY.value = "";
		form1.REQ_MGTSALARY.value = "";
		form1.REQ_ORG_ID.value = "";
		form1.REQ_ORG_NAME.value = "";
		form1.REQ_ORG_ID_1.value = "";
		form1.REQ_ORG_NAME_1.value = "";
		form1.REQ_ORG_ID_2.value = "";
		form1.REQ_ORG_NAME_2.value = "";
<? if($SESS_ORG_SETLEVEL==5) { ?>
		form1.REQ_ORG_ID_3.value = "";
		form1.REQ_ORG_NAME_3.value = "";
		form1.REQ_ORG_ID_4.value = "";
		form1.REQ_ORG_NAME_4.value = "";
		form1.REQ_ORG_ID_5.value = "";
		form1.REQ_ORG_NAME_5.value = "";
<? } ?>
		form1.REQ_CT_NAME.value = "";
		form1.REQ_CT_CODE.value = "";
		form1.REQ_PV_NAME.value = "";
		form1.REQ_PV_CODE.value = "";
		form1.REQ_AP_NAME.value = "";
		form1.REQ_AP_CODE.value = "";
		form1.REQ_ORG_OT_NAME.value = "";
		form1.REQ_ORG_OT_CODE.value = "";
		
		if(form1.POS_ID_RETIRE.value.trim() == ""){
			<? if($CTRL_TYPE < 3 && $SESS_USERGROUP_LEVEL < 3){ ?>document.all.btn_ministry.disabled = false;<? } // end if ?>
			<? if($CTRL_TYPE < 4 && $SESS_USERGROUP_LEVEL < 4){ ?>document.all.btn_department.disabled = false;<? } // end if ?>

			form1.REQ_MINISTRY_ID.value = "";
			form1.REQ_MINISTRY_NAME.value = "";
			form1.REQ_DEPARTMENT_ID.value = "";
			form1.REQ_DEPARTMENT_NAME.value = "";
		} // end if
	} 
	
	function copy_position_ret2req(){
		if(form1.POS_ID_RETIRE.value.trim() != ""){
			form1.POS_ID_REQ.value = form1.POS_ID_RETIRE.value;
			form1.REQ_POS_NO.value = form1.RETIRE_POS_NO.value;
			form1.REQ_OT_CODE.value = form1.RETIRE_OT_CODE.value;
			form1.REQ_OT_NAME.value = form1.RETIRE_OT_NAME.value;
			form1.REQ_PL_CODE.value = form1.RETIRE_PL_CODE.value;
			form1.REQ_PL_NAME.value = form1.RETIRE_PL_NAME.value;
			form1.REQ_PM_CODE.value = form1.RETIRE_PM_CODE.value;
			form1.REQ_PM_NAME.value = form1.RETIRE_PM_NAME.value;
			form1.REQ_CL_CODE.value = form1.RETIRE_CL_CODE.value;
			form1.REQ_CL_NAME.value = form1.RETIRE_CL_NAME.value;
			form1.REQ_LEVEL_NO.value = form1.RETIRE_LEVEL_NO.value;
			form1.REQ_LEVEL_NAME.value = form1.RETIRE_LEVEL_NAME.value;
			form1.REQ_PT_CODE.value = form1.RETIRE_PT_CODE.value;
			form1.REQ_PT_NAME.value = form1.RETIRE_PT_NAME.value;
			form1.REQ_SG_CODE.value = form1.RETIRE_SG_CODE.value;
			form1.REQ_SG_NAME.value = form1.RETIRE_SG_NAME.value;
			form1.REQ_SKILL_CODE.value = form1.RETIRE_SKILL_CODE.value;
			form1.REQ_SKILL_NAME.value = form1.RETIRE_SKILL_NAME.value;
			form1.REQ_PC_CODE.value = form1.RETIRE_PC_CODE.value;
			form1.REQ_PC_NAME.value = form1.RETIRE_PC_NAME.value;
			form1.REQ_CONDITION.value = form1.RETIRE_POS_CONDITION.value;
			form1.REQ_SALARY.value = form1.RETIRE_POS_SALARY.value;
			form1.REQ_MGTSALARY.value = form1.RETIRE_POS_MGTSALARY.value;
			form1.REQ_MINISTRY_ID.value = form1.RETIRE_MINISTRY_ID.value;
			form1.REQ_MINISTRY_NAME.value = form1.RETIRE_MINISTRY_NAME.value;
			form1.REQ_DEPARTMENT_ID.value = form1.RETIRE_DEPARTMENT_ID.value;
			form1.REQ_DEPARTMENT_NAME.value = form1.RETIRE_DEPARTMENT_NAME.value;
			form1.REQ_ORG_ID.value = form1.RETIRE_ORG_ID.value;
			form1.REQ_ORG_NAME.value = form1.RETIRE_ORG_NAME.value;
			form1.REQ_ORG_ID_1.value = form1.RETIRE_ORG_ID_1.value;
			form1.REQ_ORG_NAME_1.value = form1.RETIRE_ORG_NAME_1.value;
			form1.REQ_ORG_ID_2.value = form1.RETIRE_ORG_ID_2.value;
			form1.REQ_ORG_NAME_2.value = form1.RETIRE_ORG_NAME_2.value;
<? if($SESS_ORG_SETLEVEL==5) { ?>
			form1.REQ_ORG_ID_3.value = form1.RETIRE_ORG_ID_3.value;
			form1.REQ_ORG_NAME_3.value = form1.RETIRE_ORG_NAME_3.value;
			form1.REQ_ORG_ID_4.value = form1.RETIRE_ORG_ID_4.value;
			form1.REQ_ORG_NAME_4.value = form1.RETIRE_ORG_NAME_4.value;
			form1.REQ_ORG_ID_5.value = form1.RETIRE_ORG_ID_5.value;
			form1.REQ_ORG_NAME_5.value = form1.RETIRE_ORG_NAME_5.value;
<? } ?>
			form1.REQ_CT_CODE.value = form1.RETIRE_CT_CODE.value;
			form1.REQ_CT_NAME.value = form1.RETIRE_CT_NAME.value;
			form1.REQ_PV_CODE.value = form1.RETIRE_PV_CODE.value;
			form1.REQ_PV_NAME.value = form1.RETIRE_PV_NAME.value;
			form1.REQ_AP_CODE.value = form1.RETIRE_AP_CODE.value;
			form1.REQ_AP_NAME.value = form1.RETIRE_AP_NAME.value;
			form1.REQ_ORG_OT_CODE.value = form1.RETIRE_ORG_OT_CODE.value;
			form1.REQ_ORG_OT_NAME.value = form1.RETIRE_ORG_OT_NAME.value;
		} // end if
	}

	function call_pdf_report() {
		var currDate = new Date();
		var rptDate = currDate.getFullYear().toString() + currDate.getMonth().toString() + currDate.getDate().toString(); 
			   rptDate += currDate.getHours().toString() + currDate.getMinutes().toString() + currDate.getSeconds().toString();
		var report_title = "บัญชีคำขอยุบเลิกตำแหน่งเกษียณกรณีพิเศษ<?=($MENU_ID_LV3)?$MENU_TITLE_LV3:(($MENU_ID_LV2)?$MENU_TITLE_LV2:(($MENU_ID_LV1)?$MENU_TITLE_LV1:(($MENU_ID_LV0)?$MENU_TITLE_LV0:"")))?>";
		document.form1.target = "_blank";
		document.form1.action = "report/rpt_command_extra_retirepos_desc.php?report_title=" + report_title + "&REQ_ID=<?=$REQ_ID?>&UTC" + rptDate;
		document.form1.submit();
		document.form1.target = "_self";
		document.form1.action = "command_extra_retirepos_desc.html";
	} 
	
	function call_export_file() {
		var currDate = new Date();
		var rptDate = currDate.getFullYear().toString() + currDate.getMonth().toString() + currDate.getDate().toString(); 
			   rptDate += currDate.getHours().toString() + currDate.getMinutes().toString() + currDate.getSeconds().toString();
		var report_title = "บัญชีคำขอยุบเลิกตำแหน่งเกษียณกรณีพิเศษ<?=($MENU_ID_LV3)?$MENU_TITLE_LV3:(($MENU_ID_LV2)?$MENU_TITLE_LV2:(($MENU_ID_LV1)?$MENU_TITLE_LV1:(($MENU_ID_LV0)?$MENU_TITLE_LV0:"")))?>";
		document.form1.target = "_blank";
		document.form1.action = "report/rpt_command_extra_retirepos_desc_xls.php?report_title=" + report_title + "&REQ_ID=<?=$REQ_ID?>&UTC" + rptDate;
		document.form1.submit();
		document.form1.target = "_self";
		document.form1.action = "command_extra_retirepos_desc.html";
	}	

	function returnFrom(src, returnValue){
//		alert("src="+src+"("+returnValue+")");
		 if  (src.indexOf("search_org") > -1) {
			if(returnValue){
				arrValue = returnValue.split("<::>");
				if (arrValue[7]=="call_search_ministry") {
					form1.REQ_MINISTRY_ID.value = arrValue[0];
					form1.REQ_MINISTRY_NAME.value = arrValue[1];
					form1.REQ_DEPARTMENT_ID.value = "";
					form1.REQ_DEPARTMENT_NAME.value = "";
					form1.REQ_ORG_ID.value = "";
					form1.REQ_ORG_NAME.value = "";
					form1.REQ_ORG_ID_1.value = "";
					form1.REQ_ORG_NAME_1.value = "";
					form1.REQ_ORG_ID_2.value = "";
					form1.REQ_ORG_NAME_2.value = "";
					<? if($SESS_ORG_SETLEVEL==5) { ?>
					form1.REQ_ORG_ID_3.value = "";
					form1.REQ_ORG_NAME_3.value = "";
					form1.REQ_ORG_ID_4.value = "";
					form1.REQ_ORG_NAME_4.value = "";
					form1.REQ_ORG_ID_5.value = "";
					form1.REQ_ORG_NAME_5.value = "";
					<? } ?>
				}else if (arrValue[7]=="call_search_department") {
					form1.REQ_DEPARTMENT_ID.value = arrValue[0];
					form1.REQ_DEPARTMENT_NAME.value = arrValue[1];
					form1.REQ_ORG_ID.value = "";
					form1.REQ_ORG_NAME.value = "";
					form1.REQ_ORG_ID_1.value = "";
					form1.REQ_ORG_NAME_1.value = "";
					form1.REQ_ORG_ID_2.value = "";
					form1.REQ_ORG_NAME_2.value = "";
					<? if($SESS_ORG_SETLEVEL==5) { ?>
					form1.REQ_ORG_ID_3.value = "";
					form1.REQ_ORG_NAME_3.value = "";
					form1.REQ_ORG_ID_4.value = "";
					form1.REQ_ORG_NAME_4.value = "";
					form1.REQ_ORG_ID_5.value = "";
					form1.REQ_ORG_NAME_5.value = "";
					<? } ?>
				}else if (arrValue[7]=="call_search_org") {
					form1.REQ_ORG_ID.value = arrValue[0];
					form1.REQ_ORG_NAME.value = arrValue[1];
					form1.REQ_ORG_ID_1.value = "";
					form1.REQ_ORG_NAME_1.value = "";
					form1.REQ_ORG_ID_2.value = "";
					form1.REQ_ORG_NAME_2.value = "";
					<? if($SESS_ORG_SETLEVEL==5) { ?>
					form1.REQ_ORG_ID_3.value = "";
					form1.REQ_ORG_NAME_3.value = "";
					form1.REQ_ORG_ID_4.value = "";
					form1.REQ_ORG_NAME_4.value = "";
					form1.REQ_ORG_ID_5.value = "";
					form1.REQ_ORG_NAME_5.value = "";
					<? } ?>

					if(arrValue[0] != "")
					document.all.PROCESS_IFRAME.src = "find_per_country.html?ORG_ID=" + arrValue[0] + "&RETURN_VAR[PV_CODE]=REQ_PV_CODE&RETURN_VAR[PV_NAME]=REQ_PV_NAME&RETURN_VAR[CT_CODE]=REQ_CT_CODE&RETURN_VAR[CT_NAME]=REQ_CT_NAME&RETURN_VAR[AP_CODE]=REQ_AP_CODE&RETURN_VAR[AP_NAME]=REQ_AP_NAME&RETURN_VAR[OT_CODE]=REQ_ORG_OT_CODE&RETURN_VAR[OT_NAME]=REQ_ORG_OT_NAME";
				}else if (arrValue[7]=="call_search_org_1") {
					form1.REQ_ORG_ID_1.value = arrValue[0];
					form1.REQ_ORG_NAME_1.value = arrValue[1];
				}else if (arrValue[7]=="call_search_org_2") {
					form1.REQ_ORG_ID_2.value = arrValue[0];
					form1.REQ_ORG_NAME_2.value = arrValue[1];
				}else if (arrValue[7]=="call_search_org_3") {
					form1.REQ_ORG_ID_3.value = arrValue[0];
					form1.REQ_ORG_NAME_3.value = arrValue[1];
				}else if (arrValue[7]=="call_search_org_4") {
					form1.REQ_ORG_ID_4.value = arrValue[0];
					form1.REQ_ORG_NAME_4.value = arrValue[1];
				}else if (arrValue[7]=="call_search_org_5") {
					form1.REQ_ORG_ID_5.value = arrValue[0];
					form1.REQ_ORG_NAME_5.value = arrValue[1];
				}
			} // end if
		} else if  (src.indexOf("search_position") > -1) {
//				   alert('2..'+returnValue+arrValue[1]+"..."+arrValue[0]);
			if(returnValue){
				arrValue = returnValue.split("<::>");
				if (arrValue[20]=="call_search_retire_position") {
					form1.POS_ID_RETIRE.value = arrValue[0];
					form1.RETIRE_POS_NO.value = arrValue[1];
					document.all.PROCESS_IFRAME.src = "find_command_position.html?POS_ID=" + arrValue[0] + "&global_prefix=RETIRE_&var_prefix=POS&copydata=1&copyorgparent=RETIRE";
				}else if (arrValue[20]=="call_search_drop_position") {
					form1.POS_ID_DROP.value = arrValue[0];
					form1.DROP_POS_NO.value = arrValue[1];
					document.all.PROCESS_IFRAME.src = "find_command_position.html?POS_ID=" + arrValue[0] + "&global_prefix=DROP_&var_prefix=POS&copyorgparent=DROP";
					document.all.btn_clear_drop.disabled = false;
				}
			} // end if
		}else if  (src.indexOf("search_offtype") > -1) {
			if(returnValue){
			    arrValue = returnValue.split("<::>");
				form1.REQ_OT_CODE.value = arrValue[0];
				form1.REQ_OT_NAME.value = arrValue[1];
			} // end if
		}else if  (src.indexOf("search_perline") > -1) {
			if(returnValue){
			    arrValue = returnValue.split("<::>");
				form1.REQ_PL_CODE.value = arrValue[0];
				form1.REQ_PL_NAME.value = arrValue[1];
			} // end if
		}else if  (src.indexOf("search_mgt") > -1) {
			if(returnValue){
			    arrValue = returnValue.split("<::>");
				form1.REQ_PM_CODE.value = arrValue[0];
				form1.REQ_PM_NAME.value = arrValue[1];
			} // end if
		}else if  (src.indexOf("search_co_level") > -1) {
			if(returnValue){
			    arrValue = returnValue.split("<::>");
				form1.REQ_CL_CODE.value = arrValue[0];
				form1.REQ_CL_NAME.value = arrValue[1];
			} // end if
		}else if  (src.indexOf("search_skill_group") > -1) {
			if(returnValue){
			    arrValue = returnValue.split("<::>");
				form1.REQ_SG_CODE.value = arrValue[0];
				form1.REQ_SG_NAME.value = arrValue[1];
				form1.REQ_SKILL_CODE.value = "";
				form1.REQ_SKILL_NAME.value = "";
			} // end if
		}else if  (src.indexOf("search_skill") > -1) {
			if(returnValue){
			    arrValue = returnValue.split("<::>");
				form1.REQ_SKILL_CODE.value = arrValue[0];
				form1.REQ_SKILL_NAME.value = arrValue[1];
			} // end if
		}else if  (src.indexOf("search_type") > -1) {
			if(returnValue){
			    arrValue = returnValue.split("<::>");
				form1.REQ_PT_CODE.value = arrValue[0];
				form1.REQ_PT_NAME.value = arrValue[1];
			} // end if
		}else if  (src.indexOf("search_condition") > -1) {
			if(returnValue){
			    arrValue = returnValue.split("<::>");
				form1.REQ_PC_CODE.value = arrValue[0];
				form1.REQ_PC_NAME.value = arrValue[1];
			} // end if
		}  		
//		$( "#d_frame" )[0].src="";
//		alert("returnValue="+tt.value);
		tt.value = returnValue;
	} // end if
	
</script>
<span id="defaultTheme"></span>
<body>
<table width="100%" border="0" cellspacing="0" cellpadding="0" class="label_normal">
  	<tr>
    	<td align="left" valign="top"><form name="form1" method="post" action="command_extra_retirepos_desc.html" enctype="multipart/form-data">
          <input type="hidden" name="current_page" value="<?=$current_page?>">
          <input type="hidden" name="total_page" value="<?=$total_page?>">
		  <input type="hidden" name="MENU_ID_LV0" value="<?=$MENU_ID_LV0?>">
		  <input type="hidden" name="MENU_ID_LV1" value="<?=$MENU_ID_LV1?>">
		  <input type="hidden" name="MENU_ID_LV2" value="<?=$MENU_ID_LV2?>">
          <input type="hidden" name="command" value="">
          <input type="hidden" name="REQ_ID" value="<?=$REQ_ID?>">
          <input type="hidden" name="POS_ID_RETIRE" value="<?=$POS_ID_RETIRE?>">
          <input type="hidden" name="POS_ID_DROP" value="<?=$POS_ID_DROP?>">
          <input type="hidden" name="POS_ID_REQ" value="<?=$POS_ID_REQ?>">
          <input type="hidden" name="MINISTRY_ID" value="<?=$MINISTRY_ID?>">
          <input type="hidden" name="DEPARTMENT_ID" value="<?=$DEPARTMENT_ID?>">
    &nbsp;
	<table width="96%" align="center" cellpadding="0" cellspacing="0">
  	<tr>
	  <td><table width="15%" cellpadding="0" cellspacing="0" class="input_table" style="border-bottom:none;">
		  <tr>
		  	<td height="22" align="center" class="table_body"><?=($UPD)?"แก้ไข":"เพิ่ม"?>ข้อมูล</td>
		  </tr>		
	  </table></td>
	</tr>
  </table>
	<table width="96%" align="center" cellpadding="0" cellspacing="0" class="input_table">
	<? if($err_text){ ?>
	<tr><td colspan="4" height="22" align="center" class="label_alert"><?=$err_text?></td></tr>
	<? } // end if ?>
	<tr>
		<td width="20%" align="right"><span class="label_alert">*</span>&nbsp;<?=$SEQ_NO_TITLE?>&nbsp;:&nbsp;</td>
		<td width="30%"><input type="text" class="textbox" name="REQ_SEQ" value="<?=$REQ_SEQ?>" readonly></td>
		<td width="20%" align="right">&nbsp;</td>
		<td width="30%">&nbsp;</td>
	</tr>
	<tr>
	  <td align="right">มติ&nbsp;:&nbsp;</td>
	  <td>
			<input type="checkbox" name="REQ_RESULT" value="1" onClick="if(this.checked){ form1.REQ_RESULT[1].checked = false; form1.REQ_EFFECTIVE.disabled = false; form1.REQ_EFF_DATE.disabled = false; form1.btn_effective_date.disabled = false; }else{ form1.REQ_EFFECTIVE.disabled = true; form1.REQ_EFF_DATE.disabled = true; form1.btn_effective_date.disabled = true; }" <?=($REQ_RESULT==1)?"checked":""?> <?=(($PAGE_AUTH["add"]=="Y" || $PAGE_AUTH["edit"]=="Y") && !$VIEW)?"":"disabled"?>>&nbsp;&nbsp;อนุมัติ&nbsp;&nbsp;
			<input type="checkbox" name="REQ_RESULT" value="0" onClick="if(this.checked){ form1.REQ_RESULT[0].checked = false; form1.REQ_EFFECTIVE.disabled = true; form1.REQ_EFF_DATE.disabled = true; form1.btn_effective_date.disabled = true; }" <?=($REQ_RESULT==0 && $REQ_RESULT!="")?"checked":""?> <?=(($PAGE_AUTH["add"]=="Y" || $PAGE_AUTH["edit"]=="Y") && !$VIEW)?"":"disabled"?>>&nbsp;&nbsp;ไม่อนุมัติ	  </td>
	  <td align="right">ให้มีผลบังคับใช้&nbsp;:&nbsp;</td>
	  <td><table width="100%" border="0" cellpadding="0" cellspacing="0" class="label_normal">
        <tr>
          <td width="30%" align="center">
		  	<select name="REQ_EFFECTIVE" class="selectbox" <?=(($PAGE_AUTH["add"]=="Y" || $PAGE_AUTH["edit"]=="Y") && !$VIEW && ($REQ_RESULT==1))?"":"disabled"?>>
			  <option value="1" <?=($REQ_EFFECTIVE==1)?"selected":""?>>ตั้งแต่</option>
			  <option value="2" <?=($REQ_EFFECTIVE==2)?"selected":""?>>ไม่ก่อน</option>
			</select>		  </td>
          <td width="15%" align="right">วันที่&nbsp;:&nbsp;</td>
          <td>
		  	<input type="text" class="textbox" name="REQ_EFF_DATE" id="REQ_EFF_DATE" value="<?=show_date($REQ_EFF_DATE)?>" size="12" onKeyPress="return DateOnly();" onBlur="changedateformat(form1.REQ_EFF_DATE,this.value)" <?=(($PAGE_AUTH["add"]=="Y" || $PAGE_AUTH["edit"]=="Y") && !$VIEW && ($REQ_RESULT==1))?"":"disabled"?>>
			<? if(!$VIEW){ ?>&nbsp;&nbsp;<input type="button" class="button" name="btn_effective_date" value="<?=$SELECT_TITLE?>" onClick="return showCalendar('REQ_EFF_DATE', 'dd/mm/y', '<?=$SESS_HOLIDAY?>', 'confirm');" <?=(($PAGE_AUTH["add"]=="Y" || $PAGE_AUTH["edit"]=="Y") && !$VIEW && ($REQ_RESULT==1))?"":"disabled"?>><? } // end if ?>		  </td>
        </tr>
      </table></td>
	  </tr>
    <tr>
     <td height="5" colspan="4" align="center"><iframe src="javascript:;" id="PROCESS_IFRAME" frameborder="0" height="5" scrolling="no">PROCESS IFRAME</iframe></td>
    </tr>
	<tr>
	  <td height="22" colspan="4" align="center"> <?	if ($BUTTON_DISPLAY==1) { ?>
	  	<input name="button" type="button" class="button" value="<?=$CLOSE_WINDOW_TITLE?>" onClick="window.parent.close(); self.close();">
	  	<? } else { ?>
	  	<img src="images/cancel2.png" alt="<?=$CLOSE_WINDOW_TITLE?>" width="32" height="32" border="0" onClick="window.parent.close(); self.close();">&nbsp;&nbsp;&nbsp;
		<? } ?>
		<? if($UPD || $VIEW){ ?><?	if ($BUTTON_DISPLAY==1) { ?>
		<input type="submit" name="Reset2" value="<?=$CANCEL_TITLE?>" onClick="form1.command.value='CANCEL';" class="button" >
		<? } else { ?>
            <input name="image" type="image" onClick="form1.command.value='CANCEL'" src="images/cancel.gif" alt="<?=$CANCEL_TITLE?>" border="0">
            &nbsp;&nbsp;&nbsp;
            <?}?>
		<?if($PAGE_AUTH["edit"]=="Y" && !$VIEW){?><?	if ($BUTTON_DISPLAY==1) { ?>
		<input name="Submit22" type="submit" class="button" onClick="form1.command.value='UPDATE';" value="<?=$EDIT_TITLE?>">
		<? } else { ?>
            		 <input name="image" type="image" onClick="form1.command.value='UPDATE'" src="images/save.png" alt="<?=$EDIT_TITLE?>" border="0">
            		 &nbsp;&nbsp;&nbsp;
            		<?}?>
		<?}?>
		<?if($PAGE_AUTH["del"]=="Y" && !$VIEW){?><?	if ($BUTTON_DISPLAY==1) { ?>
		<input name="Submit22" type="button" class="button" onClick="confirm_delete(<?=$REQ_SEQ?> , '<?="$RETIRE_POS_NO - $RETIRE_PL_NAME"?>');" value="<?=$DEL_TITLE?>">
		<? } else { ?>
	  	<img src="images/delete.gif" alt="<?=$DEL_TITLE?>" width="32" height="32" border="0" onClick="confirm_delete(<?=$REQ_SEQ?> , '<?="$RETIRE_POS_NO - $RETIRE_PL_NAME"?>');">&nbsp;&nbsp;&nbsp;
		<? } ?>
		<?}?>
		<? }else{ ?><?	if ($BUTTON_DISPLAY==1) { ?>
		<input name="Reset2" type="reset" class="button" value="<?=$CLEAR_TITLE?>">
		<? } else { ?>
            	<img src="images/default.jpg" alt="<?=$CLEAR_TITLE?>" width="32" height="32" border="0" onClick="form1.reset();">&nbsp;&nbsp;&nbsp;
				<?}?>
		<?if($PAGE_AUTH["add"]=="Y"){?><?	if ($BUTTON_DISPLAY==1) { ?>
		<input name="Submit2" type="submit" class="button" onClick="form1.command.value='ADD';" value="<?=$ADD_TITLE?>">
		<? } else { ?>
            		<input name="image" type="image" onClick="form1.command.value='ADD'" src="images/save.png" alt="<?=$ADD_TITLE?>" border="0">
            		&nbsp;&nbsp;&nbsp;
	  		  		<?}?> 
		<?}?>
		<? } // end if ?><?	if ($BUTTON_DISPLAY==1) { ?>
		<input name="btn_hidden" type="button" class="button" value="<?=((!$UPD && !$VIEW)?"แสดง":"ซ่อน")?>รายละเอียดตำแหน่ง" onClick="if(form1.hidden_flag.value==1){ document.all.POSITION_DETAIL.style.display='block'; form1.hidden_flag.value=0; this.value='ซ่อนรายละเอียดตำแหน่ง';  }else{ document.all.POSITION_DETAIL.style.display='none'; form1.hidden_flag.value=1; this.value='แสดงรายละเอียดตำแหน่ง'; }"><? } else { ?>
            	<img src="images/btn_webboard.png" alt="แสดง / ซ่อน รายละเอียดตำแหน่ง" width="32" height="32" border="0" onClick="if(form1.hidden_flag.value==1){ document.all.POSITION_DETAIL.style.display='block'; form1.hidden_flag.value=0; this.value='ซ่อนรายละเอียดตำแหน่ง';  }else{ document.all.POSITION_DETAIL.style.display='none'; form1.hidden_flag.value=1; this.value='แสดงรายละเอียดตำแหน่ง'; }">&nbsp;&nbsp;&nbsp;
				<?}?>
		<input type="hidden" name="hidden_flag" value="<?=((!$UPD && !$VIEW)?1:0)?>">
	  </td>
	  </tr>	
	</table>	
	
	<div id="POSITION_DETAIL" style="display:<?=($UPD || $VIEW)?"block":"none"?>">
	<table width="96%" align="center" cellpadding="0" cellspacing="0" class="input_table">
	<tr>
	  <td width="15%" height="22" align="right">&nbsp;</td>
	  <td width="26%" align="center" class="table_body_2">ตำแหน่งที่เกษียณ</td>
	  <td width="26%" align="center" class="table_body">ตำแหน่งที่ยุบเลิก</td>
	  <td align="center" class="table_body_2">ตำแหน่งที่ขอจัดสรร</td>
	</tr>
	<tr>
	  <td height="21" align="right" class="table_body_3"><span class="label_alert">*</span>&nbsp;<?=$POS_NO_TITLE?>&nbsp;:&nbsp;</td>
	  <td>
		  <input type="text" class="textbox" name="RETIRE_POS_NO" value="<?=$RETIRE_POS_NO?>" readonly="true">
		   <? if(($PAGE_AUTH["add"]=="Y" || $PAGE_AUTH["edit"]=="Y") && !$VIEW){ ?><input type="button" name="" value="<?=$SELECT_TITLE?>" class="button" onClick="call_search_retire_position()"><? } // end if ?>	  </td>
	  <td>
		  <input type="text" class="textbox" name="DROP_POS_NO" value="<?=$DROP_POS_NO?>" readonly="true">
		   <? if(($PAGE_AUTH["add"]=="Y" || $PAGE_AUTH["edit"]=="Y") && !$VIEW){ ?>
		   <input type="button" name="" value="<?=$SELECT_TITLE?>" class="button" onClick="call_search_drop_position()">
		   <input type="image" name="btn_clear_drop" src="images/icon_clear.gif" width="22" height="22" onClick="clear_drop_position(); return false;" align="center" alt="ล้างข้อมูลตำแหน่งที่ยุบเลิก" <?=($POS_ID_DROP)?"":"disabled"?>>
		   <? } // end if ?>	  </td>
	  <td><table width="100%" border="0" cellpadding="0" cellspacing="0" class="label_normal">
        <tr>
          <td width="40%">
		  	<input type="checkbox" name="REQ_POS_STATUS" value="0" onClick="if(this.checked){ form1.REQ_POS_STATUS[1].checked = false; disable_req_form(true); copy_position_ret2req(); }else{ clear_req_form(); }" <?=($REQ_POS_STATUS=="0" && $REQ_POS_STATUS != "")?"checked":""?> <?=(($PAGE_AUTH["add"]=="Y" || $PAGE_AUTH["edit"]=="Y") && !$VIEW)?"":"disabled"?>> เดิม
		  	<input type="checkbox" name="REQ_POS_STATUS" value="1" onClick="if(this.checked){ form1.REQ_POS_STATUS[0].checked = false; disable_req_form(false); clear_req_form(); }else{ disable_req_form(true); }" <?=($REQ_POS_STATUS=="1")?"checked":""?> <?=(($PAGE_AUTH["add"]=="Y" || $PAGE_AUTH["edit"]=="Y") && !$VIEW)?"":"disabled"?>> ใหม่		  </td>
          <td><input type="text" class="textbox" name="REQ_POS_NO" value="<?=$REQ_POS_NO?>" size="15" onKeyPress="return DigitOnly();" <?=($REQ_POS_STATUS==1)?"":"disabled"?>></td>
        </tr>
      </table></td>
	  </tr>
	<tr>
	  <td height="21" align="right" class="table_body_3"><?=$OFF_TYPE_TITLE?>&nbsp;:&nbsp;</td>
	  <td>
	  	<input type="text" name="RETIRE_OT_NAME" value="<?=$RETIRE_OT_NAME?>" style="width:90%" class="textbox"  readonly="true">
		<input type="hidden" name="RETIRE_OT_CODE" value="<?=$RETIRE_OT_CODE?>">	  </td>
	  <td>
	  	<input type="text" name="DROP_OT_NAME" value="<?=$DROP_OT_NAME?>" style="width:90%" class="textbox"  readonly="true">
		<input type="hidden" name="DROP_OT_CODE" value="<?=$DROP_OT_CODE?>">	  </td>
	  <td>
	  	<input type="text" name="REQ_OT_NAME" value="<?=$REQ_OT_NAME?>" style="width:80%" class="textbox"  readonly="true" <?=($REQ_POS_STATUS==1)?"":"disabled"?>>
		<? if(($PAGE_AUTH["add"]=="Y" || $PAGE_AUTH["edit"]=="Y") && !$VIEW){ ?><input type="button" name="btn_off_type" value="<?=$SELECT_TITLE?>" class="button" onClick="call_search_off_type()" <?=($REQ_POS_STATUS==1)?"":"disabled"?>><? } // end if ?>
		<input type="hidden" name="REQ_OT_CODE" value="<?=$REQ_OT_CODE?>">
		<input type="image" src="images/icon_clear.gif" width="22" height="22" onClick="form1.REQ_OT_NAME.value=''; form1.REQ_OT_CODE.value=''; return false;" align="center" alt="ล้างค่า">	  </td>
	  </tr>
	<tr>
	  <td height="21" align="right" class="table_body_3"><?=$PL_TITLE?>&nbsp;:&nbsp;</td>
	  <td>
	  	<input type="text" name="RETIRE_PL_NAME" value="<?=$RETIRE_PL_NAME?>" style="width:90%" class="textbox"  readonly="true">
		<input type="hidden" name="RETIRE_PL_CODE" value="<?=$RETIRE_PL_CODE?>">	  </td>
	  <td>
	  	<input type="text" name="DROP_PL_NAME" value="<?=$DROP_PL_NAME?>" style="width:90%" class="textbox"  readonly="true">
		<input type="hidden" name="DROP_PL_CODE" value="<?=$DROP_PL_CODE?>">	  </td>
	  <td>
	  	<input type="text" name="REQ_PL_NAME" value="<?=$REQ_PL_NAME?>" style="width:80%" class="textbox"  readonly="true" <?=($REQ_POS_STATUS==1)?"":"disabled"?>>
        <? if(($PAGE_AUTH["add"]=="Y" || $PAGE_AUTH["edit"]=="Y") && !$VIEW){ ?><input type="button" name="btn_perline" value="<?=$SELECT_TITLE?>" class="button" onClick="call_search_perline()" <?=($REQ_POS_STATUS==1)?"":"disabled"?>><? } // end if ?>
        <input type="hidden" name="REQ_PL_CODE" value="<?=$REQ_PL_CODE?>">
		<input type="image" src="images/icon_clear.gif" width="22" height="22" onClick="form1.REQ_PL_NAME.value=''; form1.REQ_PL_CODE.value=''; return false;" align="center" alt="ล้างค่า">	  </td>
	  </tr>
	<tr>
	  <td height="21" align="right" class="table_body_3"><?=$PM_TITLE?>&nbsp;:&nbsp;</td>
	  <td>
	  	<input type="text" name="RETIRE_PM_NAME" value="<?=$RETIRE_PM_NAME?>" style="width:90%" class="textbox"  readonly="true">
		<input type="hidden" name="RETIRE_PM_CODE" value="<?=$RETIRE_PM_CODE?>">	  </td>
	  <td>
	  	<input type="text" name="DROP_PM_NAME" value="<?=$DROP_PM_NAME?>" style="width:90%" class="textbox"  readonly="true">
		<input type="hidden" name="DROP_PM_CODE" value="<?=$DROP_PM_CODE?>">	  </td>
	  <td>
	  	<input type="text" name="REQ_PM_NAME" value="<?=$REQ_PM_NAME?>" style="width:80%" class="textbox"  readonly="true" <?=($REQ_POS_STATUS==1)?"":"disabled"?>>
        <? if(($PAGE_AUTH["add"]=="Y" || $PAGE_AUTH["edit"]=="Y") && !$VIEW){ ?><input type="button" name="btn_mgt" value="<?=$SELECT_TITLE?>" class="button" onClick="call_search_mgt()" <?=($REQ_POS_STATUS==1)?"":"disabled"?>><? } // end if ?>
        <input type="hidden" name="REQ_PM_CODE" value="<?=$REQ_PM_CODE?>">
		<input type="image" src="images/icon_clear.gif" width="22" height="22" onClick="form1.REQ_PM_NAME.value=''; form1.REQ_PM_CODE.value=''; return false;" align="center" alt="ล้างค่า">	  </td>
	  </tr>
	<tr>
	  <td height="21" align="right" class="table_body_3"><?=$CL_TITLE?>&nbsp;:&nbsp;</td>
	  <td>
	  	<input type="text" name="RETIRE_CL_NAME" value="<?=$RETIRE_CL_NAME?>" style="width:90%" class="textbox"  readonly="true">
		<input type="hidden" name="RETIRE_CL_CODE" value="<?=$RETIRE_CL_CODE?>">	  </td>
	  <td>
	  	<input type="text" name="DROP_CL_NAME" value="<?=$DROP_CL_NAME?>" style="width:90%" class="textbox"  readonly="true">
		<input type="hidden" name="DROP_CL_CODE" value="<?=$DROP_CL_CODE?>">	  </td>
	  <td>
	  	<input type="text" name="REQ_CL_NAME" value="<?=$REQ_CL_NAME?>" style="width:80%" class="textbox"  readonly="true" <?=($REQ_POS_STATUS==1)?"":"disabled"?>>
        <? if(($PAGE_AUTH["add"]=="Y" || $PAGE_AUTH["edit"]=="Y") && !$VIEW){ ?><input type="button" name="btn_co_level" value="<?=$SELECT_TITLE?>" class="button" onClick="call_search_co_level()" <?=($REQ_POS_STATUS==1)?"":"disabled"?>><? } // end if ?>
        <input type="hidden" name="REQ_CL_CODE" value="<?=$REQ_CL_CODE?>">
		<input type="image" src="images/icon_clear.gif" width="22" height="22" onClick="form1.REQ_CL_NAME.value=''; form1.REQ_CL_CODE.value=''; return false;" align="center" alt="ล้างค่า">	  </td>
	  </tr>
	<tr>
	  <td height="21" align="right" class="table_body_3"><?=$LEVEL_TITLE?>&nbsp;:&nbsp;</td>
	  <td>
	  	<input type="text" name="RETIRE_LEVEL_NAME" value="<?=$RETIRE_LEVEL_NAME?>" style="width:90%" class="textbox"  readonly="true">
		<input type="hidden" name="RETIRE_LEVEL_NO" value="<?=$RETIRE_LEVEL_NO?>">	  </td>
	  <td>
	  	<input type="text" name="DROP_LEVEL_NAME" value="<?=$DROP_LEVEL_NAME?>" style="width:90%" class="textbox"  readonly="true">
		<input type="hidden" name="DROP_LEVEL_NO" value="<?=$DROP_LEVEL_NO?>">	  </td>
	  	<td>
				<? if(($PAGE_AUTH["add"]=="Y" || $PAGE_AUTH["edit"]=="Y") && !$VIEW && !$ORD_CONFIRM) { ?>
		        <input type="hidden" name="REQ_LEVEL_NAME" value="<?=$REQ_LEVEL_NAME?>">
				<select class="selectbox" name="REQ_LEVEL_NO">
				  <option value="" <?=($REQ_LEVEL_NO=="")?"selected":""?>>== <?=$LEVEL_TITLE?> ==</option>
				  <?
				  if ($ISCS_FLAG==1) $where = "and LEVEL_NO in $LIST_LEVEL_NO"; 
				  	$cmd = " select LEVEL_NO, LEVEL_NAME from PER_LEVEL where PER_TYPE = 1 and LEVEL_ACTIVE = 1 $where order by LEVEL_SEQ_NO ";
					$db_dpis->send_cmd($cmd);
					while($data = $db_dpis->get_array()){					
						$REQ_LEVEL_NO = $data[LEVEL_NO];
						$REQ_LEVEL_NAME = $data[LEVEL_NAME];
				  ?>
				  <option value="<?=$REQ_LEVEL_NO?>" <?=(trim($LEVEL_NO)==trim($REQ_LEVEL_NO))?"selected":""?>><?=$REQ_LEVEL_NAME?></option>
				  <?
				  	} // end while
				  ?>
				</select> 
				<? } else { ?>
				<input type="text" name="REQ_LEVEL_NAME" value="<?=$REQ_LEVEL_NAME?>" style="width:80%" class="textbox" readonly>
				<? } ?>			  
		</td>
	  </tr>
	<tr>
	  <td height="21" align="right" class="table_body_3"><?=$PT_TITLE?>&nbsp;:&nbsp;</td>
	  <td>
	  	<input type="text" name="RETIRE_PT_NAME" value="<?=$RETIRE_PT_NAME?>" style="width:90%" class="textbox"  readonly="true">
		<input type="hidden" name="RETIRE_PT_CODE" value="<?=$RETIRE_PT_CODE?>">	  </td>
	  <td>
	  	<input type="text" name="DROP_PT_NAME" value="<?=$DROP_PT_NAME?>" style="width:90%" class="textbox"  readonly="true">
		<input type="hidden" name="DROP_PT_CODE" value="<?=$DROP_PT_CODE?>">	  </td>
	  <td><input type="text" name="REQ_PT_NAME" value="<?=$REQ_PT_NAME?>" style="width:80%" class="textbox"  readonly="true" <?=($REQ_POS_STATUS==1)?"":"disabled"?>>
	    <? if(($PAGE_AUTH["add"]=="Y" || $PAGE_AUTH["edit"]=="Y") && !$VIEW){ ?>
	    <input type="button" name="btn_type" value="<?=$SELECT_TITLE?>" class="button" onClick="call_search_type()" <?=($REQ_POS_STATUS==1)?"":"disabled"?>><? } // end if ?>
        <input type="hidden" name="REQ_PT_CODE" value="<?=$REQ_PT_CODE?>">
		<input type="image" src="images/icon_clear.gif" width="22" height="22" onClick="form1.REQ_PT_NAME.value=''; form1.REQ_PT_CODE.value=''; return false;" align="center" alt="ล้างค่า">	  </td>
	  </tr>
	<tr>
	  <td height="21" align="right" class="table_body_3"><?=$SG_TITLE?>&nbsp;:&nbsp;</td>
	  <td>
	  	<input type="text" name="RETIRE_SG_NAME" value="<?=$RETIRE_SG_NAME?>" style="width:90%" class="textbox"  readonly="true">
		<input type="hidden" name="RETIRE_SG_CODE" value="<?=$RETIRE_SG_CODE?>">	  </td>
	  <td>
	  	<input type="text" name="DROP_SG_NAME" value="<?=$DROP_SG_NAME?>" style="width:90%" class="textbox"  readonly="true">
		<input type="hidden" name="DROP_SG_CODE" value="<?=$DROP_SG_CODE?>">	  </td>
	  <td>
	  	<input type="text" name="REQ_SG_NAME" value="<?=$REQ_SG_NAME?>" style="width:80%" class="textbox"  readonly="true" <?=($REQ_POS_STATUS==1)?"":"disabled"?>>
        <? if(($PAGE_AUTH["add"]=="Y" || $PAGE_AUTH["edit"]=="Y") && !$VIEW){ ?><input type="button" name="btn_skill_group" value="<?=$SELECT_TITLE?>" class="button" onClick="call_search_skill_group()" <?=($REQ_POS_STATUS==1)?"":"disabled"?>><? } // end if ?>
        <input type="hidden" name="REQ_SG_CODE" value="<?=$REQ_SG_CODE?>">
		<input type="image" src="images/icon_clear.gif" width="22" height="22" onClick="form1.REQ_SG_NAME.value=''; form1.REQ_SG_CODE.value=''; return false;" align="center" alt="ล้างค่า">	  </td>
	  </tr>
	<tr>
	  <td height="21" align="right" class="table_body_3"><?=$SKILL_TITLE?>&nbsp;:&nbsp;</td>
	  <td>
	  	<input type="text" name="RETIRE_SKILL_NAME" value="<?=$RETIRE_SKILL_NAME?>" style="width:90%" class="textbox"  readonly="true">
		<input type="hidden" name="RETIRE_SKILL_CODE" value="<?=$RETIRE_SKILL_CODE?>">	  </td>
	  <td>
	  	<input type="text" name="DROP_SKILL_NAME" value="<?=$DROP_SKILL_NAME?>" style="width:90%" class="textbox"  readonly="true">
		<input type="hidden" name="DROP_SKILL_CODE" value="<?=$DROP_SKILL_CODE?>">	  </td>
	  <td>
	  	<input type="text" name="REQ_SKILL_NAME" value="<?=$REQ_SKILL_NAME?>" style="width:80%" class="textbox"  readonly="true" <?=($REQ_POS_STATUS==1)?"":"disabled"?>>
        <? if(($PAGE_AUTH["add"]=="Y" || $PAGE_AUTH["edit"]=="Y") && !$VIEW){ ?><input type="button" name="btn_skill" value="<?=$SELECT_TITLE?>" class="button" onClick="call_search_skill()" <?=($REQ_POS_STATUS==1)?"":"disabled"?>><? } // end if ?>
        <input type="hidden" name="REQ_SKILL_CODE" value="<?=$REQ_SKILL_CODE?>">
		<input type="image" src="images/icon_clear.gif" width="22" height="22" onClick="form1.REQ_SKILL_NAME.value=''; form1.REQ_SKILL_CODE.value=''; return false;" align="center" alt="ล้างค่า">	  </td>
	  </tr>
	<tr>
	  <td height="21" align="right" class="table_body_3"><?=$PC_TITLE?>&nbsp;:&nbsp;</td>
	  <td>
	  	<input type="text" name="RETIRE_PC_NAME" value="<?=$RETIRE_PC_NAME?>" style="width:90%" class="textbox"  readonly="true">
		<input type="hidden" name="RETIRE_PC_CODE" value="<?=$RETIRE_PC_CODE?>">	  </td>
	  <td>
	  	<input type="text" name="DROP_PC_NAME" value="<?=$DROP_PC_NAME?>" style="width:90%" class="textbox"  readonly="true">
		<input type="hidden" name="DROP_PC_CODE" value="<?=$DROP_PC_CODE?>">	  </td>
	  <td>
	  	<input type="text" name="REQ_PC_NAME" value="<?=$REQ_PC_NAME?>" style="width:80%" class="textbox"  readonly="true" <?=($REQ_POS_STATUS==1)?"":"disabled"?>>
        <? if(($PAGE_AUTH["add"]=="Y" || $PAGE_AUTH["edit"]=="Y") && !$VIEW){ ?><input type="button" name="btn_condition" value="<?=$SELECT_TITLE?>" class="button" onClick="call_search_condition()" <?=($REQ_POS_STATUS==1)?"":"disabled"?>><? } // end if ?>
        <input type="hidden" name="REQ_PC_CODE" value="<?=$REQ_PC_CODE?>">
		<input type="image" src="images/icon_clear.gif" width="22" height="22" onClick="form1.REQ_PC_NAME.value=''; form1.REQ_PC_CODE.value=''; return false;" align="center" alt="ล้างค่า">	  </td>
	  </tr>
	<tr>
	  <td height="21" align="right" class="table_body_3">&nbsp;</td>
	  <td><textarea name="RETIRE_POS_CONDITION" rows="3" class="selectbox" style="width:90%" readonly="true"><?=$RETIRE_POS_CONDITION?></textarea></td>
	  <td><textarea name="DROP_POS_CONDITION" rows="3" class="selectbox" style="width:90%" readonly="true"><?=$DROP_POS_CONDITION?></textarea></td>
	  <td><textarea name="REQ_CONDITION" rows="3" class="selectbox" style="width:80%" <?=(($PAGE_AUTH["add"]=="Y" || $PAGE_AUTH["edit"]=="Y") && !$VIEW)?"":"readonly"?> <?=($REQ_POS_STATUS==1)?"":"disabled"?>><?=$REQ_CONDITION?></textarea></td>
	  </tr>
	<tr>
	  <td height="21" align="right" class="table_body_3"><?=$SALARY_TITLE?>&nbsp;:&nbsp;</td>
	  <td><input type="text" name="RETIRE_POS_SALARY" value="<?=$RETIRE_POS_SALARY?>" style="width:90%" class="textbox" readonly="true"></td>
	  <td><input type="text" name="DROP_POS_SALARY" value="<?=$DROP_POS_SALARY?>" style="width:90%" class="textbox" readonly="true"></td>
	  <td><input type="text" name="REQ_SALARY" value="<?=$REQ_SALARY?>" style="width:80%" class="textbox" onKeyPress="return NumOnly();" <?=(($PAGE_AUTH["add"]=="Y" || $PAGE_AUTH["edit"]=="Y") && !$VIEW)?"":"readonly"?> <?=($REQ_POS_STATUS==1)?"":"disabled"?>></td>
	  </tr>
	<tr>
	  <td height="21" align="right" class="table_body_3"><?=$MGTSALARY_TITLE?>&nbsp;:&nbsp;</td>
	  <td><input type="text" name="RETIRE_POS_MGTSALARY" value="<?=$RETIRE_POS_MGTSALARY?>" style="width:90%" class="textbox" readonly="true"></td>
	  <td><input type="text" name="DROP_POS_MGTSALARY" value="<?=$DROP_POS_MGTSALARY?>" style="width:90%" class="textbox" readonly="true"></td>
	  <td><input type="text" name="REQ_MGTSALARY" value="<?=$REQ_MGTSALARY?>" style="width:80%" class="textbox" onKeyPress="return NumOnly();" <?=(($PAGE_AUTH["add"]=="Y" || $PAGE_AUTH["edit"]=="Y") && !$VIEW)?"":"readonly"?> <?=($REQ_POS_STATUS==1)?"":"disabled"?>></td>
	  </tr>
	<tr>
	  <td height="21" align="right" class="table_body_3"><?=$MINISTRY_TITLE?>&nbsp;:&nbsp;</td>
      <td>
	  	<input type="text" name="RETIRE_MINISTRY_NAME" value="<?=$RETIRE_MINISTRY_NAME?>" style="width:90%" class="textbox"  readonly="true">
		<input type="hidden" name="RETIRE_MINISTRY_ID" value="<?=$RETIRE_MINISTRY_ID?>">			  </td>
      <td>
	  	<input type="text" name="DROP_MINISTRY_NAME" value="<?=$DROP_MINISTRY_NAME?>" style="width:90%" class="textbox"  readonly="true">
		<input type="hidden" name="DROP_MINISTRY_ID" value="<?=$DROP_MINISTRY_ID?>">			  </td>
      <td>
	  	<input type="text" name="REQ_MINISTRY_NAME" value="<?=$REQ_MINISTRY_NAME?>" style="width:80%" class="textbox"  readonly="true">
		<? if($CTRL_TYPE < 3 && $SESS_USERGROUP_LEVEL < 3 && ($PAGE_AUTH["add"]=="Y" || $PAGE_AUTH["edit"]=="Y") && !$VIEW && !$MINISTRY_ID){ ?><input type="button" name="btn_ministry" value="<?=$SELECT_TITLE?>" class="button" onClick="call_search_ministry()" <?=($REQ_POS_STATUS==1)?"":"disabled"?>>
		<input type="image" src="images/icon_clear.gif" width="22" height="22" onClick="form1.REQ_MINISTRY_NAME.value=''; form1.REQ_MINISTRY_ID.value=''; return false;" align="center" alt="ล้างค่า">		<? } // end if ?>
		<input type="hidden" name="REQ_MINISTRY_ID" value="<?=$REQ_MINISTRY_ID?>">		  </td>
	  </tr>
	<tr>
	  <td height="21" align="right" class="table_body_3"><?=$DEPARTMENT_TITLE?>&nbsp;:&nbsp;</td>
      <td>
	  	<input type="text" name="RETIRE_DEPARTMENT_NAME" value="<?=$RETIRE_DEPARTMENT_NAME?>" style="width:90%" class="textbox"  readonly="true">
		<input type="hidden" name="RETIRE_DEPARTMENT_ID" value="<?=$RETIRE_DEPARTMENT_ID?>">			  </td>
      <td>
	  	<input type="text" name="DROP_DEPARTMENT_NAME" value="<?=$DROP_DEPARTMENT_NAME?>" style="width:90%" class="textbox"  readonly="true">
		<input type="hidden" name="DROP_DEPARTMENT_ID" value="<?=$DROP_DEPARTMENT_ID?>">			  </td>
      <td>
	  	<input type="text" name="REQ_DEPARTMENT_NAME" value="<?=$REQ_DEPARTMENT_NAME?>" style="width:80%" class="textbox"  readonly="true">
		<? if($CTRL_TYPE < 4 && $SESS_USERGROUP_LEVEL < 4 && ($PAGE_AUTH["add"]=="Y" || $PAGE_AUTH["edit"]=="Y") && !$VIEW && !$DEPARTMENT_ID){ ?><input type="button" name="btn_department" value="<?=$SELECT_TITLE?>" class="button" onClick="call_search_department()" <?=($REQ_POS_STATUS==1)?"":"disabled"?>>
		<input type="image" src="images/icon_clear.gif" width="22" height="22" onClick="form1.REQ_DEPARTMENT_NAME.value=''; form1.REQ_DEPARTMENT_ID.value=''; return false;" align="center" alt="ล้างค่า">			  <? } // end if ?>
		<input type="hidden" name="REQ_DEPARTMENT_ID" value="<?=$REQ_DEPARTMENT_ID?>">
		</td>
	  </tr>
	<tr>
	  <td height="21" align="right" class="table_body_3"><?=$ORG_TITLE?>&nbsp;:&nbsp;</td>
	  <td>
	  	<input type="text" name="RETIRE_ORG_NAME" value="<?=$RETIRE_ORG_NAME?>" style="width:90%" class="textbox"  readonly="true">
		<input type="hidden" name="RETIRE_ORG_ID" value="<?=$RETIRE_ORG_ID?>">	  </td>
	  <td>
	  	<input type="text" name="DROP_ORG_NAME" value="<?=$DROP_ORG_NAME?>" style="width:90%" class="textbox"  readonly="true">
		<input type="hidden" name="DROP_ORG_ID" value="<?=$DROP_ORG_ID?>">	  </td>
	  <td>
	  	<input type="text" name="REQ_ORG_NAME" value="<?=$REQ_ORG_NAME?>" style="width:80%" class="textbox"  readonly="true" <?=($REQ_POS_STATUS==1)?"":"disabled"?>>
		<? if($SESS_USERGROUP_LEVEL < 5 && ($PAGE_AUTH["add"]=="Y" || $PAGE_AUTH["edit"]=="Y") && !$VIEW){ ?><input type="button" name="btn_org" value="<?=$SELECT_TITLE?>" class="button" onClick="call_search_org()" <?=($REQ_POS_STATUS==1)?"":"disabled"?>><? } // end if ?>
		<input type="hidden" name="REQ_ORG_ID" value="<?=$REQ_ORG_ID?>">
		<input type="image" src="images/icon_clear.gif" width="22" height="22" onClick="form1.REQ_ORG_NAME.value=''; form1.REQ_ORG_ID.value=''; return false;" align="center" alt="ล้างค่า">	  </td>
	  </tr>
	<tr>
	  <td height="21" align="right" class="table_body_3"><?=$ORG_TITLE1?>&nbsp;:&nbsp;</td>
	  <td>
	  	<input type="text" name="RETIRE_ORG_NAME_1" value="<?=$RETIRE_ORG_NAME_1?>" style="width:90%" class="textbox"  readonly="true">
		<input type="hidden" name="RETIRE_ORG_ID_1" value="<?=$RETIRE_ORG_ID_1?>">	  </td>
	  <td>
	  	<input type="text" name="DROP_ORG_NAME_1" value="<?=$DROP_ORG_NAME_1?>" style="width:90%" class="textbox"  readonly="true">
		<input type="hidden" name="DROP_ORG_ID_1" value="<?=$DROP_ORG_ID_1?>">	  </td>
	  <td>
	  	<input type="text" name="REQ_ORG_NAME_1" value="<?=$REQ_ORG_NAME_1?>" style="width:80%" class="textbox"  readonly="true" <?=($REQ_POS_STATUS==1)?"":"disabled"?>>
		<? if(($PAGE_AUTH["add"]=="Y" || $PAGE_AUTH["edit"]=="Y") && !$VIEW){ ?><input type="button" name="btn_org_1" value="<?=$SELECT_TITLE?>" class="button" onClick="call_search_org_1()" <?=($REQ_POS_STATUS==1)?"":"disabled"?>><? } // end if ?>
		<input type="hidden" name="REQ_ORG_ID_1" value="<?=$REQ_ORG_ID_1?>">
		<input type="image" src="images/icon_clear.gif" width="22" height="22" onClick="form1.REQ_ORG_NAME_1.value=''; form1.REQ_ORG_ID_1.value=''; return false;" align="center" alt="ล้างค่า">	  </td>
	  </tr>
	<tr>
	  <td height="21" align="right" class="table_body_3"><?=$ORG_TITLE2?>&nbsp;:&nbsp;</td>
	  <td>
	  	<input type="text" name="RETIRE_ORG_NAME_2" value="<?=$RETIRE_ORG_NAME_2?>" style="width:90%" class="textbox"  readonly="true">
		<input type="hidden" name="RETIRE_ORG_ID_2" value="<?=$RETIRE_ORG_ID_2?>">	  </td>
	  <td>
	  	<input type="text" name="DROP_ORG_NAME_2" value="<?=$DROP_ORG_NAME_2?>" style="width:90%" class="textbox"  readonly="true">
		<input type="hidden" name="DROP_ORG_ID_2" value="<?=$DROP_ORG_ID_2?>">	  </td>
	  <td>
	  	<input type="text" name="REQ_ORG_NAME_2" value="<?=$REQ_ORG_NAME_2?>" style="width:80%" class="textbox"  readonly="true" <?=($REQ_POS_STATUS==1)?"":"disabled"?>>
		<? if(($PAGE_AUTH["add"]=="Y" || $PAGE_AUTH["edit"]=="Y") && !$VIEW){ ?><input type="button" name="btn_org_2" value="<?=$SELECT_TITLE?>" class="button" onClick="call_search_org_2()" <?=($REQ_POS_STATUS==1)?"":"disabled"?>><? } // end if ?>
		<input type="hidden" name="REQ_ORG_ID_2" value="<?=$REQ_ORG_ID_2?>">
		<input type="image" src="images/icon_clear.gif" width="22" height="22" onClick="form1.REQ_ORG_NAME_2.value=''; form1.REQ_ORG_ID_2.value=''; return false;" align="center" alt="ล้างค่า">	  </td>
	  </tr>
<? if($SESS_ORG_SETLEVEL==5) { ?>
	<tr>
	  <td height="21" align="right" class="table_body_3"><?=$ORG_TITLE3?>&nbsp;:&nbsp;</td>
	  <td>
	  	<input type="text" name="RETIRE_ORG_NAME_3" value="<?=$RETIRE_ORG_NAME_3?>" style="width:90%" class="textbox"  readonly="true">
		<input type="hidden" name="RETIRE_ORG_ID_3" value="<?=$RETIRE_ORG_ID_3?>">	  </td>
	  <td>
	  	<input type="text" name="DROP_ORG_NAME_3" value="<?=$DROP_ORG_NAME_3?>" style="width:90%" class="textbox"  readonly="true">
		<input type="hidden" name="DROP_ORG_ID_3" value="<?=$DROP_ORG_ID_3?>">	  </td>
	  <td>
	  	<input type="text" name="REQ_ORG_NAME_3" value="<?=$REQ_ORG_NAME_3?>" style="width:80%" class="textbox"  readonly="true" <?=($REQ_POS_STATUS==1)?"":"disabled"?>>
		<? if(($PAGE_AUTH["add"]=="Y" || $PAGE_AUTH["edit"]=="Y") && !$VIEW){ ?><input type="button" name="btn_org_3" value="<?=$SELECT_TITLE?>" class="button" onClick="call_search_org_3()" <?=($REQ_POS_STATUS==1)?"":"disabled"?>><? } // end if ?>
		<input type="hidden" name="REQ_ORG_ID_3" value="<?=$REQ_ORG_ID_3?>">
		<input type="image" src="images/icon_clear.gif" width="22" height="22" onClick="form1.REQ_ORG_NAME_3.value=''; form1.REQ_ORG_ID_3.value=''; return false;" align="center" alt="ล้างค่า">	  </td>
	  </tr>
	<tr>
	  <td height="21" align="right" class="table_body_3"><?=$ORG_TITLE4?>&nbsp;:&nbsp;</td>
	  <td>
	  	<input type="text" name="RETIRE_ORG_NAME_4" value="<?=$RETIRE_ORG_NAME_4?>" style="width:90%" class="textbox"  readonly="true">
		<input type="hidden" name="RETIRE_ORG_ID_4" value="<?=$RETIRE_ORG_ID_4?>">	  </td>
	  <td>
	  	<input type="text" name="DROP_ORG_NAME_4" value="<?=$DROP_ORG_NAME_4?>" style="width:90%" class="textbox"  readonly="true">
		<input type="hidden" name="DROP_ORG_ID_4" value="<?=$DROP_ORG_ID_4?>">	  </td>
	  <td>
	  	<input type="text" name="REQ_ORG_NAME_4" value="<?=$REQ_ORG_NAME_4?>" style="width:80%" class="textbox"  readonly="true" <?=($REQ_POS_STATUS==1)?"":"disabled"?>>
		<? if(($PAGE_AUTH["add"]=="Y" || $PAGE_AUTH["edit"]=="Y") && !$VIEW){ ?><input type="button" name="btn_org_4" value="<?=$SELECT_TITLE?>" class="button" onClick="call_search_org_4()" <?=($REQ_POS_STATUS==1)?"":"disabled"?>><? } // end if ?>
		<input type="hidden" name="REQ_ORG_ID_4" value="<?=$REQ_ORG_ID_4?>">
		<input type="image" src="images/icon_clear.gif" width="22" height="22" onClick="form1.REQ_ORG_NAME_4.value=''; form1.REQ_ORG_ID_4.value=''; return false;" align="center" alt="ล้างค่า">	  </td>
	  </tr>
	<tr>
	  <td height="21" align="right" class="table_body_3"><?=$ORG_TITLE5?>&nbsp;:&nbsp;</td>
	  <td>
	  	<input type="text" name="RETIRE_ORG_NAME_5" value="<?=$RETIRE_ORG_NAME_5?>" style="width:90%" class="textbox"  readonly="true">
		<input type="hidden" name="RETIRE_ORG_ID_5" value="<?=$RETIRE_ORG_ID_5?>">	  </td>
	  <td>
	  	<input type="text" name="DROP_ORG_NAME_5" value="<?=$DROP_ORG_NAME_5?>" style="width:90%" class="textbox"  readonly="true">
		<input type="hidden" name="DROP_ORG_ID_5" value="<?=$DROP_ORG_ID_5?>">	  </td>
	  <td>
	  	<input type="text" name="REQ_ORG_NAME_5" value="<?=$REQ_ORG_NAME_5?>" style="width:80%" class="textbox"  readonly="true" <?=($REQ_POS_STATUS==1)?"":"disabled"?>>
		<? if(($PAGE_AUTH["add"]=="Y" || $PAGE_AUTH["edit"]=="Y") && !$VIEW){ ?><input type="button" name="btn_org_5" value="<?=$SELECT_TITLE?>" class="button" onClick="call_search_org_5()" <?=($REQ_POS_STATUS==1)?"":"disabled"?>><? } // end if ?>
		<input type="hidden" name="REQ_ORG_ID_5" value="<?=$REQ_ORG_ID_5?>">
		<input type="image" src="images/icon_clear.gif" width="22" height="22" onClick="form1.REQ_ORG_NAME_5.value=''; form1.REQ_ORG_ID_5.value=''; return false;" align="center" alt="ล้างค่า">	  </td>
	  </tr>
<? } ?>
	<tr>
	  <td height="21" align="right" class="table_body_3"><?=$CT_TITLE?>&nbsp;:&nbsp;</td>
	  <td>
	  	<input type="text" name="RETIRE_CT_NAME" value="<?=$RETIRE_CT_NAME?>" style="width:90%" class="textbox"  readonly="true">
		<input type="hidden" name="RETIRE_CT_CODE" value="<?=$RETIRE_CT_CODE?>">	  </td>
	  <td>
	  	<input type="text" name="DROP_CT_NAME" value="<?=$DROP_CT_NAME?>" style="width:90%" class="textbox"  readonly="true">
		<input type="hidden" name="DROP_CT_CODE" value="<?=$DROP_CT_CODE?>">	  </td>
	  <td>
	  	<input type="text" name="REQ_CT_NAME" value="<?=$REQ_CT_NAME?>" style="width:80%" class="textbox"  readonly="true" <?=($REQ_POS_STATUS==1)?"":"disabled"?>>
		<input type="hidden" name="REQ_CT_CODE" value="<?=$REQ_CT_CODE?>">	  </td>
	  </tr>
	<tr>
	  <td height="21" align="right" class="table_body_3"><?=$PV_TITLE?>&nbsp;:&nbsp;</td>
	  <td>
	  	<input type="text" name="RETIRE_PV_NAME" value="<?=$RETIRE_PV_NAME?>" style="width:90%" class="textbox"  readonly="true">
		<input type="hidden" name="RETIRE_PV_CODE" value="<?=$RETIRE_PV_CODE?>">	  </td>
	  <td>
	  	<input type="text" name="DROP_PV_NAME" value="<?=$DROP_PV_NAME?>" style="width:90%" class="textbox"  readonly="true">
		<input type="hidden" name="DROP_PV_CODE" value="<?=$DROP_PV_CODE?>">	  </td>
	  <td>
	  	<input type="text" name="REQ_PV_NAME" value="<?=$REQ_PV_NAME?>" style="width:80%" class="textbox"  readonly="true" <?=($REQ_POS_STATUS==1)?"":"disabled"?>>
		<input type="hidden" name="REQ_PV_CODE" value="<?=$REQ_PV_CODE?>">	  </td>
	  </tr>
	<tr>
	  <td height="21" align="right" class="table_body_3"><?=$AP_TITLE?>&nbsp;:&nbsp;</td>
	  <td>
	  	<input type="text" name="RETIRE_AP_NAME" value="<?=$RETIRE_AP_NAME?>" style="width:90%" class="textbox"  readonly="true">
		<input type="hidden" name="RETIRE_AP_CODE" value="<?=$RETIRE_AP_CODE?>">	  </td>
	  <td>
	  	<input type="text" name="DROP_AP_NAME" value="<?=$DROP_AP_NAME?>" style="width:90%" class="textbox"  readonly="true">
		<input type="hidden" name="DROP_AP_CODE" value="<?=$DROP_AP_CODE?>">	  </td>
	  <td>
	  	<input type="text" name="REQ_AP_NAME" value="<?=$REQ_AP_NAME?>" style="width:80%" class="textbox"  readonly="true" <?=($REQ_POS_STATUS==1)?"":"disabled"?>>
		<input type="hidden" name="REQ_AP_CODE" value="<?=$REQ_AP_CODE?>">	  </td>
	  </tr>
	<tr>
	  <td height="21" align="right" class="table_body_3">สังกัด&nbsp;:&nbsp;</td>
	  <td>
	  	<input type="text" name="RETIRE_ORG_OT_NAME" value="<?=$RETIRE_ORG_OT_NAME?>" style="width:90%" class="textbox"  readonly="true">
		<input type="hidden" name="RETIRE_ORG_OT_CODE" value="<?=$RETIRE_ORG_OT_CODE?>">	  </td>
	  <td>
	  	<input type="text" name="DROP_ORG_OT_NAME" value="<?=$DROP_ORG_OT_NAME?>" style="width:90%" class="textbox"  readonly="true">
		<input type="hidden" name="DROP_ORG_OT_CODE" value="<?=$DROP_ORG_OT_CODE?>">	  </td>
	  <td>
	  	<input type="text" name="REQ_ORG_OT_NAME" value="<?=$REQ_ORG_OT_NAME?>" style="width:80%" class="textbox"  readonly="true" <?=($REQ_POS_STATUS==1)?"":"disabled"?>>
		<input type="hidden" name="REQ_ORG_OT_CODE" value="<?=$REQ_ORG_OT_CODE?>">	  </td>
	  </tr>
	</table>
	</div>
<?
	$cmd =" select 		count(a.REQ_SEQ) as count_data
					from 		PER_REQ2_DTL a, PER_POSITION b
					where		a.REQ_ID=$REQ_ID and a.POS_ID_RETIRE=b.POS_ID
					
				   ";
	$db_dpis->send_cmd($cmd);
//	$db_dpis->show_error();
	$data = $db_dpis->get_array();
	$data = array_change_key_case($data, CASE_LOWER);
	$count_data = $data[count_data];	
//	echo "$count_data";
?>
    <table width="96%" align="center"  border="0" cellspacing="0" cellpadding="0">
	<tr><td align="right"></td></tr>
    <tr><td>
	<table width="100%" border="0" cellpadding="0" cellspacing="0" class="table_body_3">
            <tr>
              <td width="25%" height="22"><? if($PAGE_AUTH["print"]=="Y"){ ?>
                <? if ($BUTTON_DISPLAY==1) { ?>
                <input name="btn_report" type="button" class="button" value="<?=$PDF_TITLE?>" onClick="call_pdf_report();">
                <?  } else { ?>
                <img src="images/doc_icon_pdf.jpg" border="0" alt="<?=$PDF_TITLE?>" onClick="call_pdf_report();">
                <? } ?>                <? }else{ echo "&nbsp;"; } ?></td>
              <td align="center" height="22">พบข้อมูลรายละเอียดบัญชีขอยุบเลิก/ขอจัดสรรตำแหน่งเกษียณ (กรณีพิเศษ) ทั้งสิ้น <?=($count_data + 0)?> รายการ</td>
              <td width="25%" align="right">
			  	<? if($PAGE_AUTH["print"]=="Y"){ ?>
                <? if ($BUTTON_DISPLAY==1) { ?>
                <input name="btn_export" type="button" class="button" value="<?=$EXCEL_TITLE?>" onClick="call_export_file();">
                <?  } else { ?>
                <img src="images/doc_icon_excel.jpg" border="0" alt="<?=$EXCEL_TITLE?>" onClick="call_export_file();">
                <? } ?>                <? }else{ echo "&nbsp;"; } ?>              </td>
			</tr>
          </table>  
	</td></tr>
</table>   
<?
	$total_page = ceil( $count_data / $data_per_page );
	$page_link = create_link_page($total_page, $current_page);
	$limit_data = "";

	if($current_page > 1){
		if($DPISDB=="odbc"){
			$cmd = " select top $start_record a.REQ_SEQ from PER_REQ2_DTL a, PER_POSITION b where a.REQ_ID=$REQ_ID and a.POS_ID_RETIRE=b.POS_ID order by a.REQ_SEQ ";
			$db_dpis->send_cmd($cmd);
			while($data = $db_dpis->get_array()) $arr_exclude[] = $data[REQ_SEQ];
			$limit_data = " and a.REQ_SEQ not in (". implode(", ", $arr_exclude) .")";
		}elseif($DPISDB=="mysql"){
			$limit_data = " limit " . (($current_page - 1) * $data_per_page) . ", " . $data_per_page;
		} // end if
	} // end if 

	if($DPISDB=="odbc"){
		$cmd = " select		top $data_per_page 
										a.REQ_SEQ, a.POS_ID_RETIRE, a.REQ_RESULT, b.POS_NO, b.PL_CODE, b.PM_CODE
						from		PER_REQ2_DTL a, PER_POSITION b
						where		a.REQ_ID=$REQ_ID and a.POS_ID_RETIRE=b.POS_ID
										$limit_data
						order by 	a.REQ_SEQ 	";	
	}elseif($DPISDB=="oci8"){
		$min_rownum = (($current_page - 1) * $data_per_page) + 1;
		$max_rownum = $current_page * $data_per_page;

		$cmd = "select 		temp2.* 
						from (
							select 		rownum as rnum, temp1.*
							from (	
								select		a.REQ_SEQ, a.POS_ID_RETIRE, a.REQ_RESULT, b.POS_NO, b.PL_CODE, b.PM_CODE
								from		PER_REQ2_DTL a, PER_POSITION b
								where		a.REQ_ID=$REQ_ID and a.POS_ID_RETIRE=b.POS_ID
								order by 	a.REQ_SEQ  
							) temp1
							where rownum <= $max_rownum
						) temp2
						where rnum between $min_rownum and $max_rownum   ";						
	}elseif($DPISDB=="mysql"){
		$cmd = " select		a.REQ_SEQ, a.POS_ID_RETIRE, a.REQ_RESULT, b.POS_NO, b.PL_CODE, b.PM_CODE
						from		PER_REQ2_DTL a, PER_POSITION b
						where		a.REQ_ID=$REQ_ID and a.POS_ID_RETIRE=b.POS_ID
							order by 	a.REQ_SEQ
						$limit_data 	";	
	} // end if
	
	$count_page_data = $db_dpis->send_cmd($cmd);
//	$db_dpis->show_error();
	if ($count_page_data) {
?>
        <table width="96%" border="0" align="center" cellpadding="1" cellspacing="1" class="label_normal">
          <tr align="center" class="table_head"> 
            <td width="7%" height="25"><strong><?=$SEQ_NO_TITLE?></strong></td>
            <td height="25" ><strong><?=$POS_NO_TITLE?></strong></td>
            <td width="32%"><strong><?=$PL_TITLE?></strong></td>
            <td width="32%"><strong><?=$PM_TITLE?></strong></td>
	     	<td width="4%"><?=$INQ_TITLE?></td>
	        <?if($PAGE_AUTH["edit"]=="Y"){?>
	        <td width="4%"><?=$EDIT_TITLE?></td>
	        <?}?>
      		<?if($PAGE_AUTH["del"]=="Y"){?>
      		<td width="4%"><?=$DEL_TITLE?></td>
      		<?}?>
          </tr>
          <?
	$current_list = "";
	$data_count = 0;
	while ($data = $db_dpis->get_array()) {
		$data_count++;
		if($data_count > $data_per_page) break;
		$TMP_REQ_SEQ = $data[REQ_SEQ];
		$current_list .= ((trim($current_list))?",":"") . $TMP_REQ_SEQ;
		$RETIRE_POS_NO = $data[POS_NO];

		$RETIRE_PL_CODE = $data[PL_CODE];
		$cmd = " select PL_NAME from PER_LINE where PL_CODE='$RETIRE_PL_CODE' ";
		$db_dpis2->send_cmd($cmd);
		$data2 = $db_dpis2->get_array();
		$RETIRE_PL_NAME = $data2[PL_NAME];
		
		$RETIRE_PM_CODE = $data[PM_CODE];
		$cmd = " select PM_NAME from PER_MGT where PM_CODE='$RETIRE_PM_CODE' ";
		$db_dpis2->send_cmd($cmd);
		$data2 = $db_dpis2->get_array();
		$RETIRE_PM_NAME = $data2[PM_NAME];

		$REQ_RESULT = $data[REQ_RESULT];
		
		$class = "table_body";
		$onmouse_event = " onMouseOver=\"this.className='table_body_over';\" onMouseOut=\"this.className='table_body';\" ";
		if($REQ_SEQ==$TMP_REQ_SEQ){ 
			$class = "table_body_over";
			$onmouse_event = "";
		} // end if		
?>
          <tr class="<?=$class?>" <?=$onmouse_event?>> 
            <td height="25" align="center"><?=$TMP_REQ_SEQ?></td>
            <td>&nbsp;<?=$RETIRE_POS_NO?></td>
            <td>&nbsp;<?=$RETIRE_PL_NAME?></td>
            <td>&nbsp;<?=$RETIRE_PM_NAME?></td>
			  <td align="center">&nbsp;<a href="<?="javascript:form1.action+='?VIEW=1';form1.REQ_SEQ.value=$TMP_REQ_SEQ; form1.submit();"?>""><img src="images/icon_eye.gif" alt="ดูรายละเอียดบัญชีขอยุบเลิก/ขอจัดสรรตำแหน่งเกษียณ (กรณีพิเศษ)" width="16" height="16" border="0"></a></td>
			  <?if($PAGE_AUTH["edit"]=="Y"){?>
			  <td align="center">&nbsp;<a href="<?="javascript:form1.action+='?UPD=1';form1.REQ_SEQ.value=$TMP_REQ_SEQ; form1.submit();"?>""><img src="images/b_edit.png" border="0" alt="แก้ไขรายละเอียดบัญชีขอยุบเลิก/ขอจัดสรรตำแหน่งเกษียณ (กรณีพิเศษ)"></a></td>
	  <?}?>
	  <?if($PAGE_AUTH["del"]=="Y"){?>
      <td align="center">&nbsp;<a href="<?="javascript:confirm_delete($TMP_REQ_SEQ,'$RETIRE_POS_NO - $RETIRE_PL_NAME')"?>"><img src="images/b_drop.png" border="0" alt="ลบรายละเอียดบัญชีขอยุบเลิก/ขอจัดสรรตำแหน่งเกษียณ (กรณีพิเศษ)"></td>
	  <?}?>
          </tr>
          <? } ?>
          <?if($PAGE_AUTH["edit"]=="Y"){?>
          <tr class="table_footer"> 
            <td>&nbsp;</td>
            <td>&nbsp;</td>
            <td>&nbsp;</td>
            <td>&nbsp;</td>
            <td>&nbsp;</td>
	      <?if($PAGE_AUTH["edit"]=="Y"){?><td>&nbsp;</td><?}?>
	      <?if($PAGE_AUTH["del"]=="Y"){?><td>&nbsp;</td><?}?>	     
          </tr>
          <?}?>
        </table>
  <? if($total_page > 1) : ?>
  <table width="90%" border="0" align="center" cellpadding="2" cellspacing="2" class="label_normal">
    <tr>
      <td align="center"><?=$page_link?></td>
    </tr>
  </table>
        <? endif; ?>
        &nbsp; 
        <? } // if  count show ?>
        <input type="hidden" name="current_list" value="<?=$current_list?>">
        </form>	
		</td>
	</tr>
</table>
<?
	include("jqModalDialog.html");
?>
</body>
<script language="JavaScript" src="java_scripts/menu_layer.js"></script>
<script type="text/javascript">
setActiveStyleSheet(document.getElementById("defaultTheme"), "winter");
</script>
</html>
